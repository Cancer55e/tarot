<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>cancer.55e Stella</title>

<style>
body{
  font-family: sans-serif;
  background:#0a0a1a;
  color:white;
  text-align:center;
  padding:32px 16px;
}

h1{
  margin-bottom:4px;
}

h2{
  font-weight:normal;
  opacity:0.85;
  margin-top:0;
}

input, button{
  padding:10px;
  font-size:16px;
  margin:8px;
  border-radius:6px;
  border:none;
}

button{
  background:#5c6cff;
  color:white;
  cursor:pointer;
}

.card{
  margin-top:20px;
  padding:20px;
  border-radius:14px;
  background:#1a1a2e;
}

.stella-img{
  width:220px;
  max-width:80vw;
  height:auto;
  margin:12px auto;
  display:block;
  border-radius:14px;
  box-shadow:0 12px 32px rgba(0,0,0,0.45);
}

.small{
  font-size:14px;
  opacity:0.8;
}
</style>
</head>

<body>

<h1>üåå cancer.55e</h1>
<h2>Stella Calculator</h2>

<input type="date" id="birth">
<br>
<button onclick="calculate()">Á¢∫ÂÆö</button>

<div id="result"></div>

<script>
// =====================
// „Çπ„ÉÜ„É©ÂØæÂøúË°®
// =====================
const stellaCards = {
  3:"GENERATOR ÔΩûÁæé„ÅÆÂ•≥Á•ûÔΩû",
  4:"REIGNS ÔΩûÂêõËá®„Åô„ÇãËÄÖÔΩû",
  5:"SHAMAN ÔΩû‰ºùÂ∞éÂ∏´ÔΩû",
  6:"DEAREST ÔΩûÊÑõ„Çí‰∏é„Åà„ÇãËÄÖÔΩû",
  7:"VALKYRIE ÔΩûÈªÑÈáëÊà¶ËªäÔΩû",
  8:"EUSTITIA ÔΩûË£Å„Åç„ÅÆÂ•≥Á•ûÔΩû",
  9:"ASTRONOMER ÔΩûÂ§©ÊñáÂ≠¶ËÄÖÔΩû",
  10:"PHARAOH ÔΩûË¨é„Å´ÂåÖ„Åæ„Çå„ÅüÂ≠òÂú®ÔΩû",
  11:"HARDY EXPLORER ÔΩûÂ±àÂº∑„Å™Êé¢Ê§úÂÆ∂ÔΩû",
  12:"SAMURAI ÔΩû‰æçÈ≠ÇÔΩû",
  13:"STARS MAKER ÔΩûÊòü„ÇíÁîü„ÇÄËÄÖÔΩû",
  14:"ALL THE RAGE ÔΩû‰∏Ä‰∏ñÈ¢®Èù°ÔΩû",
  15:"REVOLUTIONIST ÔΩûÈù©ÂëΩÂÆ∂ÔΩû",
  16:"TRANSFORMERS ÔΩûÈæçÁ•ûÔΩû",
  17:"THE HERO ÔΩûÂÑ™„Åó„ÅçËã±ÈõÑÔΩû",
  18:"CLEVER THINKER ÔΩûÊúà„ÅÆÂ•≥Á•ûÔΩû",
  19:"THE KING OF KINGS ÔΩû‰∏ñÁïåÁöáÂ∏ùÔΩû",
  20:"CELEBRATER ÔΩûÂ§©‰ΩøÔΩû",
  21:"THE CREATER ÔΩûÂâµÈÄ†‰∏ªÔΩû"
};

// =====================
// ‰æøÂà©Èñ¢Êï∞
// =====================
function pad2(n){
  return String(n).padStart(2, "0");
}

function stellaImgPath(stella){
  return `img/stella/${pad2(stella)}.png`;
}

// =====================
// „Çπ„ÉÜ„É©Ë®àÁÆó
// =====================
function calcStella(date){
  let y = date.getFullYear();
  let m = date.getMonth() + 1;
  let d = date.getDate();

  let sum = ("" + y + m + d)
    .split("")
    .reduce((a,b)=>a + Number(b), 0);

  while(sum >= 22){
    sum = sum.toString()
      .split("")
      .reduce((a,b)=>a + Number(b), 0);
  }

  return sum;
}

// =====================
// Ë°®Á§∫Âá¶ÁêÜ
// =====================
function calculate(){

  const birth = document.getElementById("birth").value;
  if(!birth) return;

  const date = new Date(birth);
  const stella = calcStella(date);
  const stellaImg = stellaImgPath(stella);

  document.getElementById("result").innerHTML = `
    <div class="card">
      <h3>‚≠ê „Çπ„ÉÜ„É©„Éä„É≥„Éê„Éº ${stella}</h3>
      <p>${stellaCards[stella] ?? ""}</p>

      <img
        class="stella-img"
        src="${stellaImg}"
        alt="Stella ${stella}"
        onerror="this.style.display='none'"
      >
    </div>
  `;
}
</script>

</body>
</html>
q